<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Acadexa — Voice Demo</title>
  </head>
  <body>
    <h3>Acadexa — Voice Demo</h3>
    <button id="mic">?? Start</button>
    <p><strong>Transcript:</strong> <span id="transcript"></span></p>
    <script>
      const micBtn = document.getElementById("mic");
      const out = document.getElementById("transcript");
      let recognition;
      if (!("webkitSpeechRecognition" in window) && !("SpeechRecognition" in window)) {
        out.textContent = "Web Speech API not supported in this browser.";
        micBtn.disabled = true;
      } else {
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        recognition = new SpeechRecognition();
        recognition.lang = "en-US";
        recognition.interimResults = false;
        recognition.onresult = (e) => { out.textContent = e.results[0][0].transcript; };
        recognition.onerror = (e) => { out.textContent = "Error: " + e.error; };
      }
      micBtn.addEventListener("click", () => {
        if (recognition) recognition.start();
      });
    </script>
  </body>
</html>
